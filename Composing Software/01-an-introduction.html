<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2017 by inshideru (http://jsbin.com/hafeyos/10/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/paper/bootstrap.min.css" rel="stylesheet" integrity="sha384-awusxf8AUojygHf2+joICySzB780jVvQaVCAt1clU3QsyAitLGul28Qxb2r1e5g+" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser-polyfill.min.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js" integrity="sha256-1hjUhpc44NwiNg8OwMu2QzJXhD8kcj+sJA3aCQZoUjg=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/locale/pt-br.js" integrity="sha256-CybDXJChpvRZjP8DeJjTAbCvTMcoe3W+/bMANorQHNY=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <title>JS Bin</title>
<style id="jsbin-css">
/** Highlight Styles - Sublime Monokai */

.hljs{
    display:block;
    overflow-x:auto;
    padding:0.5em;
    background:#23241f;
}

.hljs,.hljs-tag,.hljs-subst{
    color:#f8f8f2;
}

.hljs-strong,.hljs-emphasis{
    color:#a8a8a2;
}

.hljs-bullet,.hljs-quote,.hljs-number,.hljs-regexp,.hljs-literal,.hljs-link{
    color:#ae81ff;
}

.hljs-code,.hljs-title,.hljs-section,.hljs-selector-class{
    color:#a6e22e;
}

.hljs-strong{
    font-weight:bold;
}

.hljs-emphasis{
    font-style:italic;
}
.hljs-keyword,.hljs-selector-tag,.hljs-name,.hljs-attr{
    color:#f92672;
}

.hljs-symbol,.hljs-attribute{
    color:#66d9ef;
}

.hljs-params,.hljs-class .hljs-title{
    color:#f8f8f2;
}

.hljs-string,.hljs-type,.hljs-built_in,.hljs-builtin-name,.hljs-selector-id,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-addition,.hljs-variable,.hljs-template-variable{
    color:#e6db74;
}

.hljs-comment,.hljs-deletion,.hljs-meta{
    color:#75715e;
}
</style>
</head>
<body>
  <div class="container">
    <div class="row">
        <div class="col-md-12">
            <h3>Function Composition <br /><small>JSLab</small></h3>
            <div class="well" id="top-well"></div>
        </div>
    </div>
    <div class="row">
      <div class="col-md-12">
          <div id="syntaxHighlight"></div>
          </div>
    </div>
  </div>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/4.0.6/rx.all.js"></script>
  <script src="https://unpkg.com/rx-dom@7.0.3/dist/rx.dom.js"></script>
  
  <script>
      
  </script>
<script id="jsbin-javascript">
'use strict';

const topWell =document.getElementById('top-well');

function setJSONView(elementId) {

    /** JSON DATA */
    const jsonObject = {
        nome: 'Paulo',
        sobrenome: 'Sorrentino'
    };

    /** DOM ELEMENTS */
    const mainDiv = document.getElementById(elementId);

    const msgBody = document.createElement('div');
    const preData = document.createElement('pre');
    const codeEl = document.createElement('code');
    mainDiv.appendChild(msgBody);
    mainDiv.appendChild(preData);
    preData.appendChild(codeEl);

    return function (object) {
        /** PRINTING JSON */
        codeEl.innerHTML = JSON.stringify(object ||  jsonObject, null, 4);
        hljs.highlightBlock(codeEl);
    };
}


const firstView = setJSONView('syntaxHighlight');
firstView({ manero: 'cara'});
/*
axios.get('https://swapi.co/api/people/1/')
    .then(json => {
        firstView(json.data);
    })
    .catch(err => {
        console.log('Deu ruim aqui', JSON.stringify(err.toString()));
        firstView({Erro: JSON.stringify(err.toString())})
    });
*/

topWell.innerHTML = 'The top is well, thanks!';

const hello = function (name) {
    return function (greet) {
        return `Hello, ${name}! ${greet}`;
    };
}

const frase = hello('Paulo')('How are you?');
console.log(frase);
firstView({greet: frase});

const pipe = (...fns) => x => fns.reduce((y, f) => f(y), x);

const g = n => n + 1;
const f = n => n * 2;

const trace = label => value => {
  console.log(`${ label }: ${ value }`);
  return value;
};

const doStuffBetter = pipe(
  g,
  trace('after g'),
  f,
  trace('after f')
);
doStuffBetter(5);


</script>
</body>
</html>